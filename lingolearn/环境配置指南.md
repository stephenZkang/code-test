# LingoLearn - 环境配置指南

## ✅ 已完成
- ✅ 项目结构已创建
- ✅ 后端依赖已安装 (114 packages)
- ✅ 前端依赖已安装 (1403 packages)

## 📝 下一步：配置环境变量

### 1️⃣ 创建 Supabase 项目

1. 访问 https://supabase.com/ 并登录/注册
2. 点击 "New Project"
3. 填写项目信息：
   - **Name**: lingolearn (或其他名称)
   - **Database Password**: 设置强密码并保存
   - **Region**: 选择离你最近的区域
4. 等待项目创建完成 (约2-3分钟)

### 2️⃣ 获取 Supabase 凭证

项目创建后：
1. 进入项目 Settings (左下角齿轮图标)
2. 点击 "API" 选项
3. 复制以下信息：
   ```
   Project URL: https://xxxxx.supabase.co
   anon public: eyJhbGc...  (前端用)
   service_role: eyJhbGc...  (后端用，保密！)
   ```

### 3️⃣ 配置后端环境变量

编辑文件 `backend/.env.example` 并另存为 `backend/.env`，填入：

```bash
SUPABASE_URL=https://你的项目ID.supabase.co
SUPABASE_SERVICE_KEY=你的service_role密钥
PORT=3001
NODE_ENV=development
```

### 4️⃣ 配置前端环境变量

编辑文件 `frontend/.env.example` 并另存为 `frontend/.env`，填入：

```bash
REACT_APP_SUPABASE_URL=https://你的项目ID.supabase.co
REACT_APP_SUPABASE_ANON_KEY=你的anon_public密钥
REACT_APP_API_URL=http://localhost:3001
```

### 5️⃣ 初始化数据库

1. 在 Supabase 项目中，点击左侧 "SQL Editor"
2. 点击 "New query"
3. 复制并粘贴 `database/schema.sql` 的全部内容
4. 点击 "Run" 执行
5. 再次点击 "New query"
6. 复制并粘贴 `database/seed.sql` 的全部内容
7. 点击 "Run" 执行

✅ 验证：点击左侧 "Table Editor"，应该看到：
- `words` 表有 200 行数据
- `user_progress` 表已创建
- `learning_sessions` 表已创建
- `exercise_history` 表已创建
- `achievements` 表已创建

### 6️⃣ 启动应用

#### 启动后端 (在第一个终端)
```bash
cd backend
npm run dev
```

应该看到：
```
🚀 LingoLearn API server running on port 3001
📝 Environment: development
```

#### 启动前端 (在第二个终端)
```bash
cd frontend
npm start
```

浏览器会自动打开 http://localhost:3000

---

## 🎯 测试应用

### 首次使用
1. 应用会要求你登录/注册
2. 使用任意邮箱注册账号
3. 查收邮件确认 (Supabase 会发送确认邮件)
4. 或在 Supabase Auth 设置中关闭邮箱确认要求

### 开始学习
1. 主页会显示随机单词卡片
2. 点击卡片翻转查看定义
3. 向右滑动标记为已学习
4. 向左滑动跳过

### 练习模式
1. 点击底部 "Practice" 标签
2. 选择练习类型
3. 完成 10 道题
4. 查看成绩和反馈

### 查看进度
1. 点击 "Progress" 标签
2. 查看学习天数连续记录
3. 查看词汇掌握度图表
4. 查看已获得的成就徽章

---

## ⚠️ 常见问题

### 后端无法启动
```bash
# 检查 .env 文件是否存在
ls backend/.env

# 如果不存在，复制示例文件
cp backend/.env.example backend/.env
# 然后编辑 backend/.env 填入 Supabase 凭证
```

### 前端无法连接后端
1. 确保后端已启动并运行在 3001 端口
2. 检查 `frontend/.env` 中的 `REACT_APP_API_URL=http://localhost:3001`
3. 查看浏览器控制台是否有 CORS 错误

### 数据库连接错误
1. 检查 Supabase URL 和密钥是否正确
2. 确认 Supabase 项目状态是 "Active"
3. 验证 SQL 脚本是否成功执行

### 无单词显示
1. 在 Supabase Table Editor 检查 `words` 表
2. 确认有 200 行数据
3. 重新运行 `database/seed.sql`

---

## 📞 需要帮助？

如果遇到问题，请检查：
1. `README.md` - 详细文档
2. `QUICKSTART.md` - 快速开始指南
3. 浏览器开发者工具控制台 (F12)
4. 后端终端的错误信息

---

**当前状态**: ✅ 依赖已安装，等待配置环境变量
**下一步**: 创建 Supabase 项目并配置 .env 文件
